<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MC的对象化 | Bukkit Development Note α</title>
    <meta name="description" content="Bukkit Development Note Alpha is a guide about how to develope a plugin with BukkitAPI.">
    <meta name="generator" content="VuePress 1.4.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    
    <link rel="preload" href="/BukkitDevelopmentNoteAlpha/assets/css/0.styles.47035bf9.css" as="style"><link rel="preload" href="/BukkitDevelopmentNoteAlpha/assets/js/app.e1f3861f.js" as="script"><link rel="preload" href="/BukkitDevelopmentNoteAlpha/assets/js/2.cc6e75aa.js" as="script"><link rel="preload" href="/BukkitDevelopmentNoteAlpha/assets/js/24.9516e2b6.js" as="script"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/10.1ccdbd96.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/11.a89d6a64.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/12.d106061e.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/13.ae4e9c02.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/14.8e323878.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/15.c4c88afd.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/16.b13d0230.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/17.567cf58d.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/18.465e278e.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/19.29af88fd.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/20.c4fbb199.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/21.7f6de141.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/22.b44f9a0c.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/23.2e5108c9.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/25.dff2cf05.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/26.2b210e48.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/27.06567ebe.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/28.23479591.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/29.9fba1cdc.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/3.8f6ad4d5.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/4.2f54bf03.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/5.00152988.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/6.3893f5f8.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/7.dab76dec.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/8.ecf73e06.js"><link rel="prefetch" href="/BukkitDevelopmentNoteAlpha/assets/js/9.cd5eafec.js">
    <link rel="stylesheet" href="/BukkitDevelopmentNoteAlpha/assets/css/0.styles.47035bf9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/BukkitDevelopmentNoteAlpha/" class="home-link router-link-active"><!----> <span class="site-name">Bukkit Development Note α</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/BukkitDevelopmentNoteAlpha/home.html" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/BukkitDevelopmentNoteAlpha/contribute.html" class="nav-link">
  贡献
</a></div><div class="nav-item"><a href="/BukkitDevelopmentNoteAlpha/donate.html" class="nav-link">
  赞助
</a></div><div class="nav-item"><a href="https://github.com/BakaRinya/BukkitDevelopmentNoteAlpha" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub仓库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/BukkitDevelopmentNoteAlpha/home.html" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/BukkitDevelopmentNoteAlpha/contribute.html" class="nav-link">
  贡献
</a></div><div class="nav-item"><a href="/BukkitDevelopmentNoteAlpha/donate.html" class="nav-link">
  赞助
</a></div><div class="nav-item"><a href="https://github.com/BakaRinya/BukkitDevelopmentNoteAlpha" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub仓库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/BukkitDevelopmentNoteAlpha/home.html" class="sidebar-link">欢迎</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Step1: 基本操作</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BukkitDevelopmentNoteAlpha/step_1/0-1.html" class="sidebar-link">写在前面</a></li><li><a href="/BukkitDevelopmentNoteAlpha/step_1/1-1.html" class="sidebar-link">认识Java和面向对象</a></li><li><a href="/BukkitDevelopmentNoteAlpha/step_1/1-2.html" class="sidebar-link">编写一个插件</a></li><li><a href="/BukkitDevelopmentNoteAlpha/step_1/0-2.html" class="sidebar-link">后记</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Step2: 语言基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Step3: 开发插件</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BukkitDevelopmentNoteAlpha/step_3/0-3.html" class="sidebar-link">JavaDoc的使用</a></li><li><a href="/BukkitDevelopmentNoteAlpha/step_3/1-2.html" class="sidebar-link">事件</a></li><li><a href="/BukkitDevelopmentNoteAlpha/step_3/1-1.html" class="active sidebar-link">MC的对象化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/BukkitDevelopmentNoteAlpha/step_3/1-1.html#玩家-player" class="sidebar-link">玩家(Player)</a></li><li class="sidebar-sub-header"><a href="/BukkitDevelopmentNoteAlpha/step_3/1-1.html#实体-entity" class="sidebar-link">实体(Entity)</a></li><li class="sidebar-sub-header"><a href="/BukkitDevelopmentNoteAlpha/step_3/1-1.html#material、itemstack" class="sidebar-link">Material、ItemStack</a></li><li class="sidebar-sub-header"><a href="/BukkitDevelopmentNoteAlpha/step_3/1-1.html#location" class="sidebar-link">Location</a></li><li class="sidebar-sub-header"><a href="/BukkitDevelopmentNoteAlpha/step_3/1-1.html#block" class="sidebar-link">Block</a></li><li class="sidebar-sub-header"><a href="/BukkitDevelopmentNoteAlpha/step_3/1-1.html#world" class="sidebar-link">World</a></li><li class="sidebar-sub-header"><a href="/BukkitDevelopmentNoteAlpha/step_3/1-1.html#inventory" class="sidebar-link">Inventory</a></li></ul></li><li><a href="/BukkitDevelopmentNoteAlpha/step_3/1-3.html" class="sidebar-link">配置API</a></li><li><a href="/BukkitDevelopmentNoteAlpha/step_3/1-4.html" class="sidebar-link">命令执行器</a></li><li><a href="/BukkitDevelopmentNoteAlpha/step_3/1-5.html" class="sidebar-link">开发一个简单的登录插件</a></li><li><a href="/BukkitDevelopmentNoteAlpha/step_3/0-2.html" class="sidebar-link">后记</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mc的对象化"><a href="#mc的对象化" class="header-anchor">#</a> MC的对象化</h1> <p>插件开发角度下的MC世界, 正是一个由许多对象构成的世界.<br>
下面简述几个常用的类型. BukkitAPI中还有更多的类型. 这只是冰山一角.</p> <h2 id="玩家-player"><a href="#玩家-player" class="header-anchor">#</a> 玩家(Player)</h2> <p>服务器内的每一个玩家都有一个Player对象.<br>
如果你想获取这样的一个对象, 例如, 玩家PlayerName的Player对象, 你可以这样获取：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Bukkit</span><span class="token punctuation">.</span><span class="token function">getPlayerExact</span><span class="token punctuation">(</span><span class="token string">&quot;PlayerName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre></div><blockquote><p>如果你翻看API, 你会发现存在<code>Bukkit.getPlayer(&quot;PlayerName&quot;);</code>这样的方法来获取.<br>
但是这个方法会“模糊地”获取玩家.<br>
假如服务器内有abc和ab这两个玩家, 如果你想获取ab的Player对象, 万一ab不在线, 你<code>Bukkit.getPlayer(&quot;ab&quot;);</code>返回的Player对象, 很有可能是abc的, 而不是ab的.</p></blockquote> <p><code>Player</code>是<code>Entity</code>的子类. 这意味着<code>Player</code>对象是一个确切的实体，那么如果玩家下线，它在服务器内对应的实体便消失，也就不存在所谓的<code>Player</code>对象了.<br>
因此，对一个下线的玩家使用<code>getPlayer</code>或<code>getPlayerExact</code>方法获取<code>Player</code>对象是无意义的. 这会得到null.<br>
如果要表示一个确切的玩家，无论其是否在线，可以使用<code>OfflinePlayer</code>对象.<br>
Bukkit中给出了<code>getOfflinePlayer</code>方法，你可以通过该方法获得一个<code>OfflinePlayer</code>对象.</p> <h2 id="实体-entity"><a href="#实体-entity" class="header-anchor">#</a> 实体(Entity)</h2> <p>在MC中, 所有的生物, 例如一只羊, 乃至一个僵尸, 又或者是玩家, 都是生物, 他们都是Entity类型的对象.<br>
这个概念还可以更加进一步的扩充, 一个被点燃的TNT, 实际上, 它也是一个实体(TNTPrimed).</p> <h2 id="material、itemstack"><a href="#material、itemstack" class="header-anchor">#</a> Material、ItemStack</h2> <blockquote><p>提醒: Bukkit 1.13中, Material枚举发生了<strong>翻天覆地的改动</strong>, 导致以前的插件无法更好兼容1.13, 以前的教程可能与实际环境有出入.</p></blockquote> <p>在Bukkit当中, 存在一个Enum(枚举)类型的<code>Material</code>, <code>Material</code>中含有各种物品和方块的种类.<br>
值得注意的是, 某些物品的Material和该物品放置后的方块的Material不同.</p> <p>例如, MC中一个苹果的种类是<code>Material.APPLE</code>; 石头方块的种类是<code>Material.STONE</code>;</p> <p>特殊的是, 某些物品与其对应的方块Material不一致, 例如红石比较器.<br>
红石比较器<strong>物品</strong>的种类是<code>Material.REDSTONE_COMPARATOR</code>, 而放置后的<strong>方块种类</strong>又分为<code>Material.REDSTONE_COMPARATOR_ON</code>(开启状态), <code>Material.REDSTONE_COMPARATOR_OFF</code>(关闭状态)两种, 红石比较器方块的种类不能用<code>Material.REDSTONE_COMPARATOR</code>来表示.</p> <p>ItemStack用于反应一种描述物品堆叠的方式.<br>
一个ItemStack的实例, 囊括了物品的种类（其对应的Material）和数量等信息.<br>
例如, 玩家手中拿着三个苹果. 玩家手中的这三个苹果, 实质上是一个ItemStack, 它包括了这三个苹果的种类（Material.APPLE）、数量（3）与其他的一些信息.</p> <p>下面的例子中我们创建了几个ItemStack:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ItemStack</span> item1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ItemStack</span><span class="token punctuation">(</span><span class="token class-name">Material</span><span class="token punctuation">.</span>DIAMOND<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//一个钻石</span>
<span class="token class-name">ItemStack</span> item2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ItemStack</span><span class="token punctuation">(</span><span class="token class-name">Material</span><span class="token punctuation">.</span>DIAMOND<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//两个钻石</span>
<span class="token class-name">ItemStack</span> item3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ItemStack</span><span class="token punctuation">(</span><span class="token class-name">Material</span><span class="token punctuation">.</span>WOOL<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//一个羊毛(白色的)</span>
<span class="token class-name">ItemStack</span> item4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ItemStack</span><span class="token punctuation">(</span><span class="token class-name">Material</span><span class="token punctuation">.</span>WOOL<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//一个羊毛(黑色的)</span>

item3<span class="token punctuation">.</span><span class="token function">setDurability</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置item3的耐久度为0, 对于羊毛、木板等就是设置颜色的 &quot;子ID&quot;, 对于钻石剑那就是耐久度了.</span>
item1<span class="token punctuation">.</span><span class="token function">setAmount</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置item1数量为20</span>
<span class="token class-name">Material</span> m <span class="token operator">=</span> item1<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//得到item1的类型, 也就是Material.DIAMOND</span>
</code></pre></div><p>Lore是物品的描述信息, 请看下图:<br> <img src="http://miao.su/images/2018/08/15/QQ201808151647582b05e.png" alt=""><br>
该物品的Lore为:</p> <div class="language- extra-class"><pre class="language-text"><code>§8材质: §b铜锌合金
§8电荷量: §b10.0J
</code></pre></div><p>我们来给item1也设置这样的Lore.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ItemMeta</span> im1 <span class="token operator">=</span> item1<span class="token punctuation">.</span><span class="token function">hasItemMeta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span>item1<span class="token punctuation">.</span><span class="token function">getItemMeta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token class-name">Bukkit</span><span class="token punctuation">.</span><span class="token function">getItemFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getItemMeta</span><span class="token punctuation">(</span>item1<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> loreList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
loreList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;§8材质: §b铜锌合金&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
loreList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;§8电荷量: §b10.0J&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
im1<span class="token punctuation">.</span><span class="token function">setLore</span><span class="token punctuation">(</span>loreList<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置lore</span>
<span class="token comment">// 这样设置名称: im1.setDisplayName(&quot;蓄电池 - I&quot;);</span>
item1<span class="token punctuation">.</span><span class="token function">setItemMeta</span><span class="token punctuation">(</span>im1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//下面这个是错误示范, 必须把im1 get得到后再set回去, 否则诸如下面这样无法生效</span>
item1<span class="token punctuation">.</span><span class="token function">getItemMeta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setLore</span><span class="token punctuation">(</span>loreList<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="location"><a href="#location" class="header-anchor">#</a> Location</h2> <p>任何一个坐标都可由一个Location代表.</p> <p>常见的实体对象是Entity的子类，故都提供了<code>getLocation</code>方法，返回的Location代表着它们的坐标位置.<br>
值得一提的是，如果应用<code>getLocation</code>获取实体位置，那么获取的位置是它的脚. 例如<code>Player.getLocation()</code>所获取的是玩家的脚的位置.<br>
对于这些实体对象，如果想修改他们所在的坐标位置，Bukkit没有提供<code>setLocation</code>方法，而是提供了<code>teleport</code>方法. 通过<code>teleport</code>方法可以传送某个实体.</p> <p>Location对象的基本使用也十分简单.</p> <p><strong>BlockLocation</strong><br>
Location中提供了<code>getBlockLocation()</code>、<code>getBlockX()</code>、<code>getBlockY()</code>、<code>getBlockZ()</code>四个方法.<br>
对于一个方块而言，其坐标的XYZ值均为整数，所以这些方法所获取的是此Location对应的最精确方块的坐标.<br>
通俗的理解，可以认为获取的是将XYZ四舍五入后的坐标值.<br> <code>getBlock()</code>获取的此Location对应的最精确的方块的<code>Block</code>对象.</p> <p><strong>坐标运算</strong><br>
Location提供<code>add</code>（加）、<code>subtract</code>（减）方法.</p> <p><strong>两点间距离</strong>
Location提供<code>distance</code>方法，参数为另一个Location，返回值为double，代表两点间距离.<br> <em>Location还提供<code>distanceSquared</code>方法，代表两点间的方块距离，遵循四舍五入.</em></p> <h2 id="block"><a href="#block" class="header-anchor">#</a> Block</h2> <p>任何一个方块都可以用Block对象表示.</p> <p>在BukkitAPI中，任一世界里有且仅有一个方块对应着三个确切的XYZ值. 也就是一个坐标(XYZ都是整数)只对应一个方块.</p> <p><code>getType</code>与<code>setType</code>方法可以设置方块的类型.<br> <em>在1.9之前的版本还令设<code>getTypeId</code>与<code>setTypeId</code>方法. 随着Mojang官方废弃物品ID，BukkitAPI也废弃了这两个方法，并最终删除.</em></p> <h2 id="world"><a href="#world" class="header-anchor">#</a> World</h2> <p>在Minecraft中，每一个世界都是一个World对象. 一个World以若干Chunk（区块）组成.</p> <h2 id="inventory"><a href="#inventory" class="header-anchor">#</a> Inventory</h2> <p>对于玩家背包、箱子里存放的所有ItemStack对象, 我们可以认为他们都储存在了一个<code>Inventory</code>对象里.<br>
也就是意味着, 一个箱子、一个玩家都对应他们专属的<code>Inventory</code>对象, 用来储存它们存放着的物品.</p> <p>我们先以操作玩家背包为例, 练习<code>Inventory</code>的使用.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//假设p是一个Player对象的变量</span>
<span class="token class-name">Inventory</span> inv <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getInventory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inv<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ItemStack</span><span class="token punctuation">(</span><span class="token class-name">Material</span><span class="token punctuation">.</span>DIAMOND<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这样就给玩家背包里加了一个钻石, 如果玩家背包已满, 什么都不会发生.</p> <p>每一个<code>Inventory</code>是一个储存物品GUI的体现, 每一个储存物品的格子都有自己的编号(index). 以玩家背包为例:<br> <img src="http://www.miao.su/images/2018/08/15/QQ20180815165229d7c28.png" alt=""></p> <p>这也就意味着:</p> <div class="language-java extra-class"><pre class="language-java"><code>inv<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">ItemStack</span><span class="token punctuation">(</span><span class="token class-name">Material</span><span class="token punctuation">.</span>DIAMOND<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>就是在玩家物品栏第一个位置放置了一个钻石, 或者代表原来在该处放置的物品被删除且替换成了一个钻石.</p> <p>还有这些常用操作:</p> <div class="language-java extra-class"><pre class="language-java"><code>inv<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//把36号格子清空</span>
inv<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>item1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//删除item1</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>inv<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>item1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//判断inv里有没有item1</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;lala&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
inv<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//清空整个inventory</span>
<span class="token comment">// 这样也就意味着:</span>
<span class="token comment">// p.getInventory().clear(); 是清空玩家背包</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/BukkitDevelopmentNoteAlpha/step_3/1-2.html" class="prev">
        事件
      </a></span> <span class="next"><a href="/BukkitDevelopmentNoteAlpha/step_3/1-3.html">
        配置API
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/BukkitDevelopmentNoteAlpha/assets/js/app.e1f3861f.js" defer></script><script src="/BukkitDevelopmentNoteAlpha/assets/js/2.cc6e75aa.js" defer></script><script src="/BukkitDevelopmentNoteAlpha/assets/js/24.9516e2b6.js" defer></script>
  </body>
</html>
